<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Selezione Materia</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Stili Generali */
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f0f2f5;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 600px;
            margin: 50px auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 25px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            color: #333;
        }

        .select-group {
            margin-bottom: 20px;
        }

        .select-group label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: bold;
        }

        .select-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #fafafa;
            transition: border-color 0.3s;
        }

        .select-group select:focus {
            border-color: #007bff;
            outline: none;
        }

        #apriArgomento {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #apriArgomento:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        #apriArgomento:hover:not(:disabled) {
            background-color: #0056b3;
        }

        /* Effetti */
        .select-group {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .select-group.visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Seleziona l'Argomento di Studio</h1>

    <div class="select-group" id="group-materia">
        <label for="materia">Materia:</label>
        <select id="materia">
            <option value="">-- Seleziona una materia --</option>
            <option value="anatomia">Anatomia</option>
            <option value="metacognizione">Metacognizione</option>
            <option value="fisica">Fisica</option>
        </select>
    </div>

    <div class="select-group" id="group-argomento">
        <label for="argomento">Argomento:</label>
        <select id="argomento">
            <option value="">-- Seleziona un argomento --</option>
        </select>
    </div>

    <div class="select-group" id="group-sottoargomento">
        <label for="sottoargomento">Sottoargomento:</label>
        <select id="sottoargomento">
            <option value="">-- Seleziona un sottoargomento --</option>
        </select>
    </div>

    <div class="select-group" id="group-sottosottoargomento">
        <label for="sottosottoargomento">Sotto-sottoargomento:</label>
        <select id="sottosottoargomento">
            <option value="">-- Seleziona un sotto-sottoargomento --</option>
        </select>
    </div>

    <button id="apriArgomento" disabled>Apri Argomento</button>
</div>

<script>
    // Dati delle materie, argomenti, sottoargomenti e sotto-sottoargomenti
    var dati = {
        'anatomia': {
            'Sistema Cardiovascolare': {
                'Cuore': ['Anatomia del Cuore', 'Fisiologia del Cuore'],
                'Vasi Sanguigni': ['Arterie', 'Vene']
            },
            'Sistema Locomotore': {
                'Ossa': ['Ossa Lunghe', 'Ossa Corte'],
                'Muscoli': ['Muscoli Scheletrici', 'Muscoli Lisci']
            }
        },
        'metacognizione': {
            'Strategie di Apprendimento': {
                'Mappe Concettuali': ['Creazione di Mappe', 'Utilizzo di Mappe'],
                'Lettura Critica': ['Tecniche di Lettura', 'Analisi Critica']
            },
            'Consapevolezza': {
                'Autovalutazione': ['Metodi di Autovalutazione', 'Feedback'],
                'Pianificazione': ['Obiettivi SMART', 'Gestione del Tempo']
            }
        },
        'fisica': {
            'Meccanica': {
                'Cinematica': ['Moto Rettilineo', 'Moto Circolare'],
                'Dinamica': ['Forze', 'Leggi di Newton']
            },
            'Elettromagnetismo': {
                'Elettricità': ['Circuiti', 'Corrente'],
                'Magnetismo': ['Campi Magnetici', 'Forza di Lorentz']
            }
        }
    };

    // Riferimenti agli elementi select e al pulsante
    var selectMateria = document.getElementById('materia');
    var selectArgomento = document.getElementById('argomento');
    var selectSottoargomento = document.getElementById('sottoargomento');
    var selectSottosottoargomento = document.getElementById('sottosottoargomento');
    var buttonApriArgomento = document.getElementById('apriArgomento');

    var groupArgomento = document.getElementById('group-argomento');
    var groupSottoargomento = document.getElementById('group-sottoargomento');
    var groupSottosottoargomento = document.getElementById('group-sottosottoargomento');

    // Nascondi i gruppi all'inizio
    groupArgomento.classList.remove('visible');
    groupSottoargomento.classList.remove('visible');
    groupSottosottoargomento.classList.remove('visible');

    // Evento al cambio di materia
    selectMateria.onchange = function() {
        // Resetta gli altri menù e disabilita il pulsante
        selectArgomento.innerHTML = '<option value="">-- Seleziona un argomento --</option>';
        selectSottoargomento.innerHTML = '<option value="">-- Seleziona un sottoargomento --</option>';
        selectSottosottoargomento.innerHTML = '<option value="">-- Seleziona un sotto-sottoargomento --</option>';
        buttonApriArgomento.disabled = true;

        groupArgomento.classList.remove('visible');
        groupSottoargomento.classList.remove('visible');
        groupSottosottoargomento.classList.remove('visible');

        var materiaSelezionata = this.value;
        if (materiaSelezionata) {
            var argomenti = Object.keys(dati[materiaSelezionata]);
            argomenti.forEach(function(argomento) {
                var option = document.createElement('option');
                option.value = argomento;
                option.text = argomento;
                selectArgomento.add(option);
            });
            groupArgomento.classList.add('visible');
        }
    };

    // Evento al cambio di argomento
    selectArgomento.onchange = function() {
        selectSottoargomento.innerHTML = '<option value="">-- Seleziona un sottoargomento --</option>';
        selectSottosottoargomento.innerHTML = '<option value="">-- Seleziona un sotto-sottoargomento --</option>';
        buttonApriArgomento.disabled = true;

        groupSottoargomento.classList.remove('visible');
        groupSottosottoargomento.classList.remove('visible');

        var materiaSelezionata = selectMateria.value;
        var argomentoSelezionato = this.value;
        if (argomentoSelezionato) {
            var sottoargomenti = Object.keys(dati[materiaSelezionata][argomentoSelezionato]);
            sottoargomenti.forEach(function(sottoargomento) {
                var option = document.createElement('option');
                option.value = sottoargomento;
                option.text = sottoargomento;
                selectSottoargomento.add(option);
            });
            groupSottoargomento.classList.add('visible');
        }
    };

    // Evento al cambio di sottoargomento
    selectSottoargomento.onchange = function() {
        selectSottosottoargomento.innerHTML = '<option value="">-- Seleziona un sotto-sottoargomento --</option>';
        buttonApriArgomento.disabled = true;

        groupSottosottoargomento.classList.remove('visible');

        var materiaSelezionata = selectMateria.value;
        var argomentoSelezionato = selectArgomento.value;
        var sottoargomentoSelezionato = this.value;
        if (sottoargomentoSelezionato) {
            var sottosottoargomenti = dati[materiaSelezionata][argomentoSelezionato][sottoargomentoSelezionato];
            sottosottoargomenti.forEach(function(sottosottoargomento) {
                var option = document.createElement('option');
                option.value = sottosottoargomento;
                option.text = sottosottoargomento;
                selectSottosottoargomento.add(option);
            });
            groupSottosottoargomento.classList.add('visible');
        }
    };

    // Evento al cambio di sotto-sottoargomento
    selectSottosottoargomento.onchange = function() {
        if (this.value) {
            buttonApriArgomento.disabled = false;
        } else {
            buttonApriArgomento.disabled = true;
        }
    };

    // Funzione per formattare i nomi
    function formattaNome(nome) {
        return nome.replace(/\s+/g, '-').toLowerCase();
    }

    // Evento al click del pulsante
    buttonApriArgomento.onclick = function() {
        var materiaSelezionata = selectMateria.value;
        var argomentoSelezionato = selectArgomento.value;
        var sottoargomentoSelezionato = selectSottoargomento.value;
        var sottosottoargomentoSelezionato = selectSottosottoargomento.value;

        // Costruisci l'URL della pagina
        var url = formattaNome(materiaSelezionata) + '/'
                + formattaNome(argomentoSelezionato) + '/'
                + formattaNome(sottoargomentoSelezionato) + '/'
                + formattaNome(sottosottoargomentoSelezionato) + '.html';

        // Naviga all'URL
        window.location.href = url;
    };
</script>

</body>
</html>
