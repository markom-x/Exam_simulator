<!DOCTYPE html>
<html>
<head>
    <title>Selezione Materia</title>
    <meta charset="UTF-8">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        select {
            margin: 10px 0;
            padding: 5px;
            width: 250px;
        }
        label {
            display: block;
            margin-top: 20px;
        }
        button {
            margin-top: 20px;
            padding: 10px 15px;
            font-size: 16px;
        }
        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
    </style>
</head>
<body>

<h1>Seleziona la Materia e l'Argomento</h1>

<label for="materia">Materia:</label>
<select id="materia">
    <option value="">-- Seleziona una materia --</option>
    <option value="anatomia">Anatomia</option>
    <option value="metacognizione">Metacognizione</option>
    <option value="fisica">Fisica</option>
</select>

<label for="argomento">Argomento:</label>
<select id="argomento">
    <option value="">-- Seleziona un argomento --</option>
</select>

<label for="sottoargomento">Sottoargomento:</label>
<select id="sottoargomento">
    <option value="">-- Seleziona un sottoargomento --</option>
</select>

<button id="apriArgomento" disabled>Apri Argomento</button>

<script>
// Dati delle materie, argomenti e sottoargomenti
var dati = {
    'anatomia': {
        'Scheletrico': ['Cuore', 'Vasi Sanguigni'],
        'Muscolare': ['Intrinseci del torace'], 
        'Cardiovascolare': ['Ossa', 'Muscoli'], 
        'Digerente': ['Ossa', 'Muscoli'], 
        'Respiratorio': ['Ossa', 'Muscoli'], 
        'Urinario': ['Ossa', 'Muscoli'], 
        'Genitale': ['Ossa', 'Muscoli'], 
    },
    'metacognizione': {
        'Strategie di Apprendimento': ['Mappe Concettuali', 'Lettura Critica'],
        'Consapevolezza': ['Autovalutazione', 'Pianificazione']
    },
    'fisica': {
        'Meccanica': ['Cinematica', 'Dinamica'],
        'Elettromagnetismo': ['Elettricità', 'Magnetismo']
    }
};

// Riferimenti agli elementi select e al pulsante
var selectMateria = document.getElementById('materia');
var selectArgomento = document.getElementById('argomento');
var selectSottoargomento = document.getElementById('sottoargomento');
var buttonApriArgomento = document.getElementById('apriArgomento');

// Evento al cambio di materia
selectMateria.onchange = function() {
    // Resetta gli altri menù e disabilita il pulsante
    selectArgomento.innerHTML = '<option value="">-- Seleziona un argomento --</option>';
    selectSottoargomento.innerHTML = '<option value="">-- Seleziona un sottoargomento --</option>';
    buttonApriArgomento.disabled = true;

    var materiaSelezionata = this.value;
    if (materiaSelezionata) {
        var argomenti = Object.keys(dati[materiaSelezionata]);
        argomenti.forEach(function(argomento) {
            var option = document.createElement('option');
            option.value = argomento;
            option.text = argomento;
            selectArgomento.add(option);
        });
    }
};

// Evento al cambio di argomento
selectArgomento.onchange = function() {
    selectSottoargomento.innerHTML = '<option value="">-- Seleziona un sottoargomento --</option>';
    buttonApriArgomento.disabled = true;

    var materiaSelezionata = selectMateria.value;
    var argomentoSelezionato = this.value;
    if (argomentoSelezionato) {
        var sottoargomenti = dati[materiaSelezionata][argomentoSelezionato];
        sottoargomenti.forEach(function(sottoargomento) {
            var option = document.createElement('option');
            option.value = sottoargomento;
            option.text = sottoargomento;
            selectSottoargomento.add(option);
        });
    }
};

// Evento al cambio di sottoargomento
selectSottoargomento.onchange = function() {
    if (this.value) {
        buttonApriArgomento.disabled = false;
    } else {
        buttonApriArgomento.disabled = true;
    }
};

// Evento al click del pulsante
buttonApriArgomento.onclick = function() {
    var materiaSelezionata = selectMateria.value;
    var argomentoSelezionato = selectArgomento.value;
    var sottoargomentoSelezionato = selectSottoargomento.value;

    // Costruisci l'URL della pagina
    var url = encodeURIComponent(materiaSelezionata) + '/'
            + encodeURIComponent(argomentoSelezionato) + '/'
            + encodeURIComponent(sottoargomentoSelezionato) + '.html';

    // Naviga all'URL
    window.location.href = url;
};
</script>

</body>
</html>
